<div align="center">

<!-- Animated Header -->
<img src="https://capsule-render.vercel.app/api?type=waving&color=gradient&customColorList=6,11,20&height=200&section=header&text=âš–ï¸%20SANHEDRIN&fontSize=80&fontColor=fff&animation=twinkling&fontAlignY=35&desc=The%20Council%20of%20AI%20Agents&descAlignY=55&descSize=20"/>

<br/>

<!-- Badges Row 1 -->
<p>
<a href="https://a2a-protocol.org"><img src="https://img.shields.io/badge/A2A_Protocol-v0.3-0066ff?style=for-the-badge&logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiPjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0tMiAxNWwtNS01IDEuNDEtMS40MUwxMCAxNC4xN2w3LjU5LTcuNTlMMTkgOGwtOSA5eiIvPjwvc3ZnPg==" alt="A2A Protocol"/></a>
<a href="https://python.org"><img src="https://img.shields.io/badge/Python-3.11+-3776ab?style=for-the-badge&logo=python&logoColor=white" alt="Python"/></a>
<a href="LICENSE"><img src="https://img.shields.io/badge/License-Apache_2.0-orange?style=for-the-badge" alt="License"/></a>
<a href="#-zero-cost-architecture"><img src="https://img.shields.io/badge/ğŸ’°_Extra_Cost-$0-success?style=for-the-badge" alt="Zero Cost"/></a>
</p>

<!-- Badges Row 2 -->
<p>
<img src="https://img.shields.io/badge/Claude_Code-âœ“-blueviolet?style=flat-square&logo=anthropic" alt="Claude"/>
<img src="https://img.shields.io/badge/Gemini_CLI-âœ“-4285f4?style=flat-square&logo=google" alt="Gemini"/>
<img src="https://img.shields.io/badge/Codex_CLI-âœ“-412991?style=flat-square&logo=openai" alt="Codex"/>
<img src="https://img.shields.io/badge/Ollama-âœ“_FREE-black?style=flat-square" alt="Ollama"/>
</p>

<br/>

<!-- Tagline Box -->
<table>
<tr>
<td>

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                          â•‘
â•‘   ğŸ›ï¸  Like the ancient council of sages, Sanhedrin brings together      â•‘
â•‘       multiple AI agents to deliberate on complex tasks â€” each           â•‘
â•‘       contributing unique capabilities through one unified protocol.     â•‘
â•‘                                                                          â•‘
â•‘       âœ¨ CLI-First: Use your existing subscriptions                      â•‘
â•‘       âœ¨ A2A Protocol: Industry-standard interoperability                â•‘
â•‘       âœ¨ Multi-Agent: Intelligent routing & orchestration                â•‘
â•‘                                                                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

</td>
</tr>
</table>

<br/>

<!-- Quick Links -->
[**ğŸš€ Quick Start**](#-quick-start) Â· [**ğŸ“– Documentation**](#-documentation) Â· [**ğŸ—ï¸ Architecture**](#-architecture) Â· [**ğŸ¤ Contributing**](#-contributing)

<br/>

</div>

---

<br/>

## ğŸ¯ Why Sanhedrin?

<table>
<tr>
<td width="50%">

### âŒ Traditional API Approach
```
Your App â†’ Claude API    ğŸ’¸ $$$
        â†’ Gemini API    ğŸ’¸ $$$
        â†’ OpenAI API    ğŸ’¸ $$$
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        Multiple API keys ğŸ”‘
        Multiple rate limits â±ï¸
        Costs stack up fast ğŸ“ˆ
```

</td>
<td width="50%">

### âœ… Sanhedrin Approach
```
Your App â†’ Sanhedrin â†’ claude CLI âœ¨
                     â†’ gemini CLI âœ¨
                     â†’ codex CLI  âœ¨
                     â†’ ollama     ğŸ†“
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        Use existing subscriptions ğŸ«
        One unified protocol ğŸ”Œ
        $0 extra cost ğŸ’°
```

</td>
</tr>
</table>

<br/>

---

<br/>

## ğŸ’° Zero-Cost Architecture

<div align="center">

| You Already Have | Sanhedrin Uses | Extra Cost |
|:----------------:|:--------------:|:----------:|
| Claude Pro/Team subscription | `claude` CLI | **$0** |
| Google account | `gemini` CLI | **$0** |
| ChatGPT Plus/Pro | `codex` CLI | **$0** |
| A computer | `ollama` local | **$0** |

</div>

> **ğŸ’¡ Key Insight:** Sanhedrin invokes your *locally installed CLI tools* via subprocess.
> It doesn't make API calls â€” it uses the same CLIs you already use manually.

<br/>

---

<br/>

## âœ¨ Features at a Glance

<div align="center">

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚  ğŸ”Œ A2A v0.3  â”‚  â”‚  ğŸ¤– 4 Agents  â”‚  â”‚  ğŸŒŠ Streaming â”‚  â”‚ ğŸ¯ Routing  â”‚ â”‚
â”‚   â”‚   Protocol    â”‚  â”‚   Supported   â”‚  â”‚     SSE       â”‚  â”‚   Engine    â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚  ğŸ“¡ Discovery â”‚  â”‚  ğŸ”„ Tasks     â”‚  â”‚  ğŸ’» CLI-First â”‚  â”‚ ğŸ†“ Ollama   â”‚ â”‚
â”‚   â”‚  Agent Cards  â”‚  â”‚  Lifecycle    â”‚  â”‚   No API $$$  â”‚  â”‚   Free!     â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

</div>

<br/>

<table>
<tr>
<td width="50%">

### ğŸ”Œ Protocol & Standards
- **A2A Protocol v0.3** - Full compliance
- **JSON-RPC 2.0** - Standard transport
- **SSE Streaming** - Real-time responses
- **Agent Cards** - `.well-known/agent.json`

</td>
<td width="50%">

### ğŸ› ï¸ Architecture
- **Multi-Agent Orchestration** - Catalog & Router
- **Skill-Based Routing** - Match tasks to agents
- **Task State Machine** - Full lifecycle management
- **Pydantic v2** - Type-safe models

</td>
</tr>
</table>

<br/>

---

<br/>

## ğŸš€ Quick Start

### ğŸ“¦ Installation

```bash
# Full installation (recommended)
pip install sanhedrin[all]

# Minimal (core only)
pip install sanhedrin

# Server + CLI
pip install sanhedrin[server,cli]

# With Ollama support
pip install sanhedrin[ollama]
```

### âš¡ 30-Second Demo

```bash
# 1ï¸âƒ£ Start a server (using Claude Code)
sanhedrin serve --adapter claude-code --port 8000

# 2ï¸âƒ£ Discover the agent
curl http://localhost:8000/.well-known/agent.json | jq .

# 3ï¸âƒ£ Send a message
sanhedrin send http://localhost:8000 "Write a Python hello world"
```

<br/>

### ğŸ–¥ï¸ Server Examples

<table>
<tr>
<td>

**Claude Code**
```bash
sanhedrin serve \
  --adapter claude-code \
  --port 8000
```

</td>
<td>

**Gemini CLI**
```bash
sanhedrin serve \
  --adapter gemini-cli \
  --port 8001
```

</td>
</tr>
<tr>
<td>

**Codex CLI**
```bash
sanhedrin serve \
  --adapter codex-cli \
  --port 8002
```

</td>
<td>

**Ollama (FREE)**
```bash
sanhedrin serve \
  --adapter ollama \
  --port 8003
```

</td>
</tr>
</table>

<br/>

### ğŸ Python Client

```python
import asyncio
from sanhedrin import get_adapter

async def main():
    # Get an adapter directly (no server needed!)
    adapter = get_adapter("claude-code")  # or "gemini-cli", "ollama", etc.
    await adapter.initialize()

    # Execute a prompt
    result = await adapter.execute("Explain recursion in Python")
    print(result.content)

    # Or stream the response
    async for chunk in adapter.execute_stream("Write a haiku about coding"):
        print(chunk.content, end="", flush=True)

asyncio.run(main())
```

<br/>

### ğŸŒ HTTP Client (A2A Protocol)

```python
import httpx

# JSON-RPC 2.0 request
response = httpx.post("http://localhost:8000/a2a", json={
    "jsonrpc": "2.0",
    "id": 1,
    "method": "message/send",
    "params": {
        "message": {
            "role": "user",
            "parts": [{"text": "Hello, agent!"}]
        }
    }
})

print(response.json())
```

<br/>

---

<br/>

## ğŸ—ï¸ Architecture

### System Overview

```
                              â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                              â•‘              S A N H E D R I N            â•‘
                              â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â•‘                                           â•‘
   â”‚  Your App    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    A2A    â•‘  â”‚           FastAPI Server            â”‚  â•‘
                      Protocolâ•‘  â”‚  â€¢ /.well-known/agent.json (Card)   â”‚  â•‘
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â•‘  â”‚  â€¢ /a2a (JSON-RPC endpoint)         â”‚  â•‘
   â”‚ Other Agents â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â•‘  â”‚  â€¢ /a2a/stream (SSE streaming)      â”‚  â•‘
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
                              â•‘                     â”‚                      â•‘
                              â•‘                     â–¼                      â•‘
                              â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
                              â•‘  â”‚          Orchestration Layer         â”‚  â•‘
                              â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â•‘
                              â•‘  â”‚  â”‚   Router    â”‚ â”‚    Catalog      â”‚ â”‚  â•‘
                              â•‘  â”‚  â”‚ (Skills/RR) â”‚ â”‚ (Agent Registry)â”‚ â”‚  â•‘
                              â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â•‘
                              â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
                              â•‘                     â”‚                      â•‘
                              â•‘                     â–¼                      â•‘
                              â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
                              â•‘  â”‚           Adapter Layer              â”‚  â•‘
                              â•‘  â”‚                                       â”‚  â•‘
                              â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â•‘
                              â•‘  â”‚  â”‚ Claude  â”‚ â”‚ Gemini  â”‚ â”‚  Codex  â”‚ â”‚  â•‘
                              â•‘  â”‚  â”‚ Adapter â”‚ â”‚ Adapter â”‚ â”‚ Adapter â”‚ â”‚  â•‘
                              â•‘  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚  â•‘
                              â•‘  â”‚       â”‚          â”‚          â”‚       â”‚  â•‘
                              â•‘  â”‚  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”     â”‚     â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”  â”‚  â•‘
                              â•‘  â”‚  â”‚ Ollama  â”‚     â”‚     â”‚  Base   â”‚  â”‚  â•‘
                              â•‘  â”‚  â”‚ Adapter â”‚     â”‚     â”‚ Adapter â”‚  â”‚  â•‘
                              â•‘  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â•‘
                              â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
                              â•šâ•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                                         â”‚         â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                    â–¼         â–¼                    â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                    â”‚  â”‚ claude  â”‚ â”‚ gemini  â”‚ â”‚  codex  â”‚ â”‚ ollama  â”‚ â”‚
                    â”‚  â”‚   CLI   â”‚ â”‚   CLI   â”‚ â”‚   CLI   â”‚ â”‚ (local) â”‚ â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                    â”‚                                                   â”‚
                    â”‚              ğŸ–¥ï¸  YOUR MACHINE                    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

<br/>

### Mermaid Diagrams

<details>
<summary><b>ğŸ“Š Click to expand: Flow Diagram</b></summary>

```mermaid
graph TB
    subgraph "Client Layer"
        C1[ğŸ–¥ï¸ Your Application]
        C2[ğŸ¤– Other A2A Agents]
        C3[ğŸ”§ CLI Tools]
    end

    subgraph "Sanhedrin Server"
        direction TB
        API[ğŸŒ FastAPI Server]
        RPC[ğŸ“¡ JSON-RPC Handler]
        TM[ğŸ“‹ Task Manager]
        SM[ğŸ”„ State Machine]
    end

    subgraph "Orchestration"
        CAT[ğŸ“š Agent Catalog]
        RTR[ğŸ¯ Router]
    end

    subgraph "Adapters"
        A1[Claude Adapter]
        A2[Gemini Adapter]
        A3[Codex Adapter]
        A4[Ollama Adapter]
    end

    subgraph "CLI Tools"
        CLI1[claude]
        CLI2[gemini]
        CLI3[codex]
        CLI4[ollama]
    end

    C1 & C2 & C3 -->|HTTP/A2A| API
    API --> RPC
    RPC --> TM
    TM --> SM
    TM --> RTR
    RTR --> CAT
    CAT --> A1 & A2 & A3 & A4
    A1 -->|subprocess| CLI1
    A2 -->|subprocess| CLI2
    A3 -->|subprocess| CLI3
    A4 -->|Python SDK| CLI4

    style API fill:#4CAF50,color:white
    style CAT fill:#2196F3,color:white
    style RTR fill:#FF9800,color:white
```

</details>

<details>
<summary><b>ğŸ”„ Click to expand: Task State Machine</b></summary>

```mermaid
stateDiagram-v2
    [*] --> SUBMITTED: Create Task

    SUBMITTED --> WORKING: Start Processing
    SUBMITTED --> CANCELED: User Cancel
    SUBMITTED --> FAILED: Validation Error

    WORKING --> COMPLETED: Success
    WORKING --> FAILED: Error
    WORKING --> INPUT_REQUIRED: Need User Input
    WORKING --> CANCELED: User Cancel

    INPUT_REQUIRED --> WORKING: User Provides Input
    INPUT_REQUIRED --> CANCELED: User Cancel

    COMPLETED --> [*]
    FAILED --> [*]
    CANCELED --> [*]
```

</details>

<details>
<summary><b>ğŸ”€ Click to expand: Sequence Diagram</b></summary>

```mermaid
sequenceDiagram
    participant Client
    participant Server as Sanhedrin Server
    participant Router
    participant Adapter as Claude Adapter
    participant CLI as claude CLI

    Client->>Server: POST /a2a (message/send)
    Server->>Server: Create Task (SUBMITTED)
    Server->>Router: Route by skills
    Router->>Router: Match capabilities
    Router-->>Server: Selected adapter
    Server->>Server: Update state (WORKING)
    Server->>Adapter: execute(prompt)
    Adapter->>CLI: subprocess.run(["claude", "--print", ...])
    CLI-->>Adapter: JSON response
    Adapter-->>Server: ExecutionResult
    Server->>Server: Update state (COMPLETED)
    Server-->>Client: Task with result
```

</details>

<br/>

---

<br/>

## ğŸ¤– Supported Agents

<div align="center">

| Agent | CLI Command | Auth Method | Cost | Best For |
|:-----:|:-----------:|:-----------:|:----:|:--------:|
| <img src="https://img.shields.io/badge/Claude-blueviolet?style=flat-square&logo=anthropic&logoColor=white" height="20"/> | `claude` | OAuth / API Key | Your Sub | Code, Analysis |
| <img src="https://img.shields.io/badge/Gemini-4285F4?style=flat-square&logo=google&logoColor=white" height="20"/> | `gemini` | OAuth / API Key | Your Account | Reasoning, Search |
| <img src="https://img.shields.io/badge/Codex-412991?style=flat-square&logo=openai&logoColor=white" height="20"/> | `codex` | OAuth / API Key | Your ChatGPT | Code Gen |
| <img src="https://img.shields.io/badge/Ollama-000000?style=flat-square" height="20"/> | `ollama` | None (Local) | **FREE** | Privacy, Local |

</div>

<br/>

### ğŸ“¥ CLI Installation

<table>
<tr>
<td width="50%">

**Claude Code CLI**
```bash
# Via npm
npm install -g @anthropic-ai/claude-code

# Or download from
# https://claude.ai/code
```

**Gemini CLI**
```bash
npm install -g @google/gemini-cli
```

</td>
<td width="50%">

**Codex CLI**
```bash
npm install -g @openai/codex
```

**Ollama** (100% Free Local)
```bash
# macOS/Linux
curl -fsSL https://ollama.ai/install.sh | sh

# Pull a model
ollama pull llama3.2
```

</td>
</tr>
</table>

<br/>

---

<br/>

## ğŸ“‹ A2A Protocol Reference

### Agent Card Structure

```json
{
  "name": "Sanhedrin Claude Agent",
  "description": "Claude Code CLI exposed as A2A agent",
  "url": "http://localhost:8000/a2a",
  "version": "0.1.0",
  "protocolVersion": "0.3.0",
  "capabilities": {
    "streaming": true,
    "pushNotifications": false,
    "stateTransitionHistory": true
  },
  "skills": [
    {
      "id": "code-generation",
      "name": "Code Generation",
      "description": "Generate code from natural language",
      "tags": ["coding", "generation", "development"],
      "examples": [
        "Write a Python function to sort a list",
        "Create a REST API endpoint in Go"
      ]
    }
  ],
  "provider": {
    "organization": "Sanhedrin",
    "url": "https://github.com/consigcody94/sanhedrin"
  }
}
```

### JSON-RPC Methods

| Method | Description | Streaming |
|--------|-------------|:---------:|
| `message/send` | Send message, get complete response | âŒ |
| `message/stream` | Send message, stream SSE events | âœ… |
| `tasks/get` | Retrieve task by ID | âŒ |
| `tasks/cancel` | Cancel a running task | âŒ |

<br/>

---

<br/>

## ğŸ§ª Examples

```bash
# Clone the repo
git clone https://github.com/consigcody94/sanhedrin.git
cd sanhedrin

# Run examples
python examples/simple_agent.py       # Basic usage
python examples/multi_agent_chat.py   # Orchestration demo
python examples/a2a_client.py         # A2A protocol client
python examples/ollama_local.py       # Free local inference
```

<br/>

---

<br/>

## ğŸ› ï¸ Development

```bash
# Clone & setup
git clone https://github.com/consigcody94/sanhedrin.git
cd sanhedrin
pip install -e ".[dev]"

# Run tests
pytest -v

# Type checking
mypy src/sanhedrin

# Lint
ruff check src/
ruff format src/
```

### Project Structure

```
sanhedrin/
â”œâ”€â”€ src/sanhedrin/
â”‚   â”œâ”€â”€ core/              # A2A types, state machine, errors
â”‚   â”‚   â”œâ”€â”€ types.py       # Pydantic models (Task, Message, AgentCard)
â”‚   â”‚   â”œâ”€â”€ state_machine.py
â”‚   â”‚   â””â”€â”€ errors.py
â”‚   â”œâ”€â”€ adapters/          # CLI tool wrappers
â”‚   â”‚   â”œâ”€â”€ base.py        # BaseAdapter abstract class
â”‚   â”‚   â”œâ”€â”€ claude_adapter.py
â”‚   â”‚   â”œâ”€â”€ gemini_adapter.py
â”‚   â”‚   â”œâ”€â”€ codex_adapter.py
â”‚   â”‚   â”œâ”€â”€ ollama_adapter.py
â”‚   â”‚   â””â”€â”€ registry.py    # Adapter registration
â”‚   â”œâ”€â”€ server/            # FastAPI A2A server
â”‚   â”‚   â”œâ”€â”€ app.py         # Main application
â”‚   â”‚   â”œâ”€â”€ task_manager.py
â”‚   â”‚   â””â”€â”€ handlers/      # JSON-RPC handlers
â”‚   â”œâ”€â”€ orchestration/     # Multi-agent coordination
â”‚   â”‚   â”œâ”€â”€ catalog.py     # Agent registry
â”‚   â”‚   â””â”€â”€ router.py      # Routing strategies
â”‚   â”œâ”€â”€ config/            # Pydantic settings
â”‚   â””â”€â”€ cli/               # Typer CLI
â”œâ”€â”€ examples/              # Usage examples
â”œâ”€â”€ tests/                 # Test suite
â””â”€â”€ docs/                  # Documentation
```

<br/>

---

<br/>

## ğŸ¤ Contributing

Contributions are welcome! Here's how:

1. **Fork** the repository
2. **Create** a feature branch (`git checkout -b feature/amazing`)
3. **Commit** your changes (`git commit -m 'Add amazing feature'`)
4. **Push** to the branch (`git push origin feature/amazing`)
5. **Open** a Pull Request

### Adding a New Adapter

```python
# src/sanhedrin/adapters/my_adapter.py
from sanhedrin.adapters.base import BaseAdapter

class MyAdapter(BaseAdapter):
    @property
    def name(self) -> str:
        return "my-adapter"

    async def execute(self, prompt: str, **kwargs) -> ExecutionResult:
        # Your implementation
        ...
```

<br/>

---

<br/>

## ğŸ“„ License

<div align="center">

**Apache License 2.0**

This project is licensed under the Apache License 2.0 - see the [LICENSE](LICENSE) file for details.

</div>

<br/>

---

<br/>

## ğŸ™ Acknowledgments

<div align="center">

| Project | Description |
|:-------:|:-----------:|
| [A2A Protocol](https://a2a-protocol.org) | Agent-to-Agent Protocol specification |
| [Anthropic](https://anthropic.com) | Claude Code CLI |
| [Google](https://google.com) | Gemini CLI |
| [OpenAI](https://openai.com) | Codex CLI |
| [Ollama](https://ollama.ai) | Local LLM inference |

</div>

<br/>

---

<div align="center">

<img src="https://capsule-render.vercel.app/api?type=waving&color=gradient&customColorList=6,11,20&height=100&section=footer"/>

<br/>

**âš–ï¸ Sanhedrin** â€” *Where AI Agents Convene*

<br/>

Made with â¤ï¸ for the AI Agent ecosystem

<br/>

[â¬† Back to Top](#ï¸-sanhedrin)

</div>
